<div {% if settings.animation_enable %}data-aos="fade-up"{% endif %} class="before__after__img" id="section-{{ section.id }}" data-section="afterBeforeImage">
  <div class="container">
    <div class="row">
      <div class="col-xl-6 col-lg-6 col-md-6 col-12">
        <div class="before-after-wrap">
          {% if section.settings.before__text != '' %}
            <span class="before__after__common before__class">{{ section.settings.before__text }}</span>
          {% endif %}
          <figure>
            <div id="compare"></div>
          </figure>
          <input oninput="beforeAfter()" onchange="beforeAfter()" type="range" min="0" max="100" value="50" id="slider">
          {% if section.settings.after__text != '' %}
            <span class="before__after__common after__class">{{ section.settings.after__text }}</span>
          {% endif %}
        </div>
      </div>
      <div class="col-lg-6 align-self-center">
        <div class="about-us-info-wrap">
          {%- if section.settings.sub_title != '' -%}
          <h4>{{ section.settings.sub_title }}</h4>
          {%- endif -%}
          {%- if section.settings.title != '' -%}
          <h2>{{ section.settings.title }}</h2>
          {%- endif -%}
          {%- if section.settings.main_content != '' -%}
          {{ section.settings.main_content }}
          {%- endif -%}
          {%- if section.settings.show_button -%}
          <div class="btn-wrapper mt-25">
            <a href="{{ section.settings.button_url }}" class="btn theme-btn-1 btn-effect-1">{{ section.settings.button_title }}</a>
          </div>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</div>

<style>
       #section-{{ section.id }} .before-after-wrap {
       	overflow: hidden;
        position:relative;
         border-radius: {{ section.settings.border_radius }}px;
       }

       @media only screen and (min-width: 350px) {
        #section-{{ section.id }} .before-after-wrap {
             	height: {{section.settings.ba__section__height__small}}px;
            }
       }

      @media only screen and (min-width: 768px) {
       #section-{{ section.id }} .before-after-wrap {
             	height: {{section.settings.ba__section__height__medium}}px;
            }
       }

        @media only screen and (min-width: 1366px) {
       #section-{{ section.id }} .before-after-wrap {
        height: {{section.settings.ba__section__height}}px;
            }
       }

       #section-{{ section.id }} .before-after-wrap figure {
        background-image: url({%- if section.settings.after__image -%}{{ section.settings.after__image | img_url: 'master' }}{%- else -%} https://via.placeholder.com/1400x750 {%- endif -%});
       	background-size: cover;
       	font-size: 0;
       	height: 100%;
       	margin: 0;
       	position: relative;
       	width: 100%;
       }
       #section-{{ section.id }} .before-after-wrap #compare {
        background-image: url({%- if section.settings.before__image -%}{{ section.settings.before__image | img_url: 'master' }}{%- else -%} https://via.placeholder.com/1400x750 {%- endif -%});
       	background-size: cover;
       	bottom: 0;
       	border-right: 5px solid rgba(255,255,255,0.7);
       	box-shadow: 10px 0 15px -13px #000;
       	height: 100%;
       	max-width: 98.6%;
       	min-width: 0.6%;
       	overflow: visible;
       	position: absolute;
       	width: 50%;
       	animation: first 2s 1 normal ease-in-out 0.1s;
       	-webkit-animation: first 2s 1 normal ease-in-out 0.1s;
       }
       #section-{{ section.id }} .before-after-wrap input#slider {
       	-moz-appearance: none;
       	-webkit-appearance: none;
       	border: none;
       	background: transparent;
       	cursor: col-resize;
       	height: 100vw;
       	left: 0;
       	margin: 0;
       	outline: none;
       	padding: 0;
       	position: relative;
       	top: -100vw;
       	width: 100%;
       }
       #section-{{ section.id }} .before-after-wrap input#slider::-moz-range-track {
       	background: transparent;
       }
       #section-{{ section.id }} .before-after-wrap input#slider::-ms-track {
       	border: none;
       	background-color: transparent;
       	height: 100vw;
       	left: 0;
       	outline: none;
       	position: relative;
       	top: -100vw;
       	width: 100%;
       	margin: 0;
       	padding: 0;
       	cursor: col-resize;
       	color:transparent;
       }
       #section-{{ section.id }} .before-after-wrap input#slider::-ms-fill-lower {
       	background-color:transparent;
       }
       #section-{{ section.id }} .before-after-wrap input#slider::-webkit-slider-thumb {
       	-webkit-appearance:none;
       	height: 100vw;
       	width: 0.5%;
       	opacity: 0;
       }
       #section-{{ section.id }} .before-after-wrap input#slider::-moz-range-thumb {
       	-moz-appearance: none;
       	height: 100vw;
       	width: 0.5%;
       	opacity: 0;
       }
       #section-{{ section.id }} .before-after-wrap input#slider::-ms-thumb {
       	height: 100vw;
       	width: 0.5%;
       	opacity:0;
       }
       #section-{{ section.id }} .before-after-wrap input#slider::-ms-tooltip {
       	display:none;
       }
       #section-{{ section.id }} .before-after-wrap #compare::before {
       	background: url(https://webdevtrick.com/wp-content/uploads/comparision.png) no-repeat scroll 0 center transparent;
       	background-size:contain;
       	content: "";
        float: right;
       	height: 100%;
       	margin-right: -34px;
       	position: relative;
       	top:0;
       	width: 64px;
       }
       @keyframes first {
         0% {width: 0%; }
         50% {width: 80%; }
         100% {width: 50%; }
       }
       @-webkit-keyframes first {
         0% {width: 0%; }
         50% {width: 80%; }
         100% {width: 50%; }
       }

   #section-{{ section.id }} .before-after-wrap .before__after__common {
    position: absolute;
    color: #ffffff;
    z-index: 9;
    font-size: 18px;
    bottom: 20px;
    left: 20px;
    background: var(--ltn__secondary-color);
    padding: 3px 20px;
    border-radius: 5px;
}

  #section-{{ section.id }} .before-after-wrap .before__after__common.after__class {
         right: 20px;
         left: auto;
     }
</style>

<script>
  function beforeAfter() {
    document.getElementById('compare').style.width = document.getElementById('slider').value + "%";
  }
</script>

{%- render 'section-style' -%}

{% schema %}
 {
   "name": "Before After Image",
    "disabled_on": {
      "groups": ["header", "footer"]
    },
   "settings": [
        {
          "type": "header",
          "content": "Compare Image"
        },
        {
          "type": "range",
          "id": "border_radius",
          "min": 0,
          "max": 100,
          "step": 5,
          "label": "Border Radius",
          "unit": "px",
          "default": 15
        },
       {
           "type": "text",
           "id": "ba__section__height",
           "label": "Image Height (Desktop)",
           "default": "500"
         },
         {
           "type": "text",
           "id": "ba__section__height__medium",
           "label": "Image Height (Tablet)",
           "default": "500"
         },
            {
           "type": "text",
           "id": "ba__section__height__small",
           "label": "Image Height (Mobile)",
           "default": "300"
         },
        {
            "type": "image_picker",
            "id": "before__image",
            "label": "Before Image"
        },
        {
            "type": "image_picker",
            "id": "after__image",
            "label": "After Image"
        },
        {
           "type": "text",
           "id": "before__text",
           "label": "Befor Image Text",
           "default": "Before"
         },
        {
           "type": "text",
           "id": "after__text",
           "label": "After Image Text",
           "default": "After"
         },
        {
          "type": "header",
          "content": "About Information"
        },
        {
          "type": "text",
          "id": "sub_title",
          "label": "Sub Title",
          "default": "// Sub Title"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
		  "default": "Title <span>.</span>",
		  "info": "Use <span> Tag for Highlight text"
        },
        {
          "type": "richtext",
          "id": "main_content",
          "label": "Main Content",
          "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore</p>"
        },
        {
          "type": "checkbox",
          "id": "show_button",
          "label": "Show Button",
          "default": true
        },
        {
          "type": "text",
          "id": "button_title",
          "label": "Button Title",
          "default": "View More"
        },
        {
          "type": "url",
          "id": "button_url",
          "label": "URL"
        },
        {
          "type": "header",
          "content": "Color"
        },
        {
          "type": "checkbox",
          "id": "section_color_enable",
          "label": "Color Enable",
          "default": false,
          "info": "Enable the field for color customization"
        },
        {
          "type": "color",
          "id": "button_text_color",
          "label": "Button text Color",
          "default": "#fff"
        },
        {
          "type": "color",
          "id": "button_bg_color",
          "label": "Button BG Color",
          "default": "#e53e29"
        },
        {
          "type": "color",
          "id": "button_text_hover_color",
          "label": "Button text Hover Color",
          "default": "#071c1f"
        },
        {
          "type": "color",
          "id": "button_bg_hover_color",
          "label": "Button BG Hover Color",
          "default": "#071c1f"
        }
    ],
    "blocks":[
	   {
          "type": "section_margin",
          "name": "Section Margin",
		  "limit": 1,
          "settings": [
            {
			  "type": "header",
			  "content": "Large/Desktop Device"
			},
			{
			  "type": "range",
			  "id": "section_margin_top",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_margin_bottom",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Bottom",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "header",
			  "content": "Tablet Device"
			},
			{
			  "type": "range",
			  "id": "section_margin_top_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_margin_bottom_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Bottom",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "header",
			  "content": "Mobile Device"
			},
			{
			  "type": "range",
			  "id": "section_margin_top_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_margin_bottom_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Bottom",
			  "unit": "px",
			  "default": 0
			}
          ]
       },
	   {
          "type": "section_padding",
          "name": "Section Padding",
		  "limit": 1,
          "settings": [
            {
			  "type": "header",
			  "content": "Large/Desktop Device"
			},
			{
			  "type": "range",
			  "id": "section_padding_top",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_padding_bottom",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Bottom",
			  "unit": "px",
			  "default": 70
			},
			{
			  "type": "header",
			  "content": "Tablet Device"
			},
			{
			  "type": "range",
			  "id": "section_padding_top_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_padding_bottom_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Bottom",
			  "unit": "px",
			  "default": 50
			},
			{
			  "type": "header",
			  "content": "Mobile Device"
			},
			{
			  "type": "range",
			  "id": "section_padding_top_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_padding_bottom_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Bottom",
			  "unit": "px",
			  "default": 35
			}
          ]
       },
	   {
          "type": "section_background",
          "name": "Section Background",
		  "limit": 1,
          "settings": [
            {
			  "type": "image_picker",
			  "id": "section_bg_image",
			  "label": "BG Image"
			},
			{
			  "type": "color",
			  "id": "section_bg_color",
			  "label": "BG Color",
			  "default": "#ffffff"
			}
          ]
       }
  ],
  "presets": [
	{
	  "name": "Before After Image",
	  "category": "others",
	  "blocks":[
			{
				"type": "section_padding"
			}
		]
	}
  ]
 }
{% endschema %}
